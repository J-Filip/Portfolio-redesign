<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
      Weather mApp</title>
    <link rel="stylesheet" href="/main.css">
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

  </head>

  <body>

    <header>
      <nav class="navbar py-4">
  <div class="container is-fluid">
    <div class="navbar-brand">
      <a class="navbar-item" href="#" data-config-id="brand">
        <img class="image" alt="" >
      </a>
      <a class="navbar-burger" role="button" aria-label="menu" aria-expanded="false">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>
    <div class="navbar-menu">
      <div class="navbar-start">
      <a class="navbar-item" href="/" data-config-id="link2">Home</a>
      <a class="navbar-item" href="/projects" data-config-id="link1">Blog</a>
      </div>
      <div class="navbar-item navbar-end">
        <div class="buttons">
        <a class="button is-primary" href="#" data-config-id="primary-action">Contact</a></div>
      </div>
    </div>
  </div>
</nav>
    </header>

    <main>
      
<section class="section is-relative py-4">
    <div class="container">

        <div class="columns is-multiline is-vcentered">
            <div class="column is-6 is-5-desktop mr-auto mb-5">
                <img class="image is-fullwidth" src="/assets/blue-blob.svg" alt="">
            </div>
            <div class="column is-6 is-5-desktop">
                <span class="is-inline-block mb-4 has-text-grey-dark" data-config-id="date1">Invalid DateTime</span>
                <h2 class="mb-4 is-size-1 is-size-3-mobile has-text-weight-bold">Weather mApp</h2>

            </div>

        </div>
    </section>
    <section class="section py-4">
        <div class="container">
            <div class="columns is-multiline is-centered">
                <div class="column is-8 is-7-desktop">
                    <h2 class="mb-5 is-size-3 is-size-3-mobile has-text-weight-bold">
                        Find out Your geolocation and get weather and air quality data for the location. You can also see where others have checked-in on the map.
                    </h2>

                    

                    
                        <div class='box'>
                            
                            <video width="1024" height="768" autoplay muted controls loop>
                                <source src="/assets/weather_mapp.mp4" type="video/mp4">Your browser does not support the video tag.</video>

                        </div>
                    
                    <p><strong>WHY?</strong></p>
<p>My first dive into Node.js and backend development. The point wasn't to make another weather app but to learn to deal with APIs and fetching data. I built a modified project based on a tutorial by @joeyklee.
<br>
<br>
<strong>WHAT?</strong></p>
<p>I set up a server using express framework and used JavaScript Fetch API to get data from two APIs - weather and air quality. One of them required API key so I learned how to store private API keys using environment variables. Also, I deployed my web app to Heroku cloud platform with GitHub integration.
<br>
<br>
<strong>HOW?</strong>
What's really happening behind all this? When app is loaded, user is asked for permission to use his geolocation. If geolocation available, user can type in his nickname and press Check-in button that sends POST request to server with variables latitude and longitude. Server fetches weather and airquality APIs with user's coordinates and returns a response to the client. We make DOM changes with this data and send another POST request to server with data to be stored in the database.</p>
<p>When &quot;All Logs&quot; is clicked, client sends GET request to server asking for the last 20 rows from the database. For each entry from database we create a DIV element and add a marker with a pop-up to a Leaflet map. When &quot;Croatia logs&quot; is clicked, same process is happening with postgres database but in this case we SEND user's country as route parameter to an endpoint, where we return only database rows where Country value is HR.</p>
<hr>
<p><strong>CONCLUSION</strong>
Even though my app did not won any design or originality awards (the why still eludes me), it shed a lot more light on API's and why and how they are used. After finishing it, I felt a lot more comfortable approaching other API's. It opened a whole new set of ideas that seemed a lot more advanced then they actually are.
In my next project, I am using two approaches in dealing with API's - WordPress REST API from our knowledge base (read more) and STRAPI - an API driven headless CMS.
<br>
<br>
<strong><em>UPDATE 07/2021</em></strong> -  added PostgreSQL database
<br>
<strong><em>UPDATE 08/2021</em></strong> -  the looks really weren't important but I could not look at it. So I asked my friend to contribute with his super-mediocre front-end skills - and he made it watchable.
Thanks @Brnjak6. [LINK]</p>


                    <div class='mt-5  has-text-centered'>
                        <a class="button is-info " href="#" data-config-id="primary-action "> ⬅️  back to projects</a>
                    </div>
                </div>
            </div>

        </div>
    </section>

    
    </main>

    <footer>
      
<footer class="section pb-5 has-background-dark">
  <div class="container pb-5 has-text-centered" >
    <a class="mx-auto mb-4 is-inline-block" href="#" data-config-id="brand">
      <img class="image" src="/assets/logo.png" alt="" width="96px">
    </a>
    <ul class="mb-4 is-flex is-flex-wrap-wrap is-justify-content-center is-align-items-center">
      <li><a class="button is-white" href="#" data-config-id="01_link1">Home</a></li>
      <li><a class="button is-white" href="#" data-config-id="01_link2">About</a></li>
      <li><a class="button is-white" href="#" data-config-id="01_link2">Projects</a></li>
    </ul>
    <div>
      <a class="mr-4 is-inline-block" href="#" >
        <img src="/assets/github.svg" data-config-id="auto-img-1-3" style="height: 34px;">
      </a>
      <a class="is-inline-block" href="#">
        <img src="/assets/linkedin.svg" data-config-id="auto-img-5-3" style="height: 34px;">
      </a>
    </div>
  </div>
  <div class="pt-5" style="border-top: 1px solid #dee2e6;"></div>
  <div class="container">
    <p class="has-text-centered" data-config-id="copy">All rights reserved | Filip Jugkala 2022.
    </p>
    
    </p>
    
    
  </div>
</footer>
    </footer>

    <script>

      if (window.netlifyIdentity) {
        window
          .netlifyIdentity
          .on("init", user => {
            if (!user) {
              window
                .netlifyIdentity
                .on("login", () => {
                  document.location.href = "/admin/";
                });
            }
          });
      }
    </script>
  </body>
</html>